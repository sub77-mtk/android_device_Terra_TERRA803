From 527a2c45c362b54f7c70e48452a8b302eac338c1 Mon Sep 17 00:00:00 2001
From: ferhung-mtk <ferhung27@gmail.com>
Date: Sun, 17 Apr 2016 17:06:12 +0800
Subject: [PATCH 3/9] MediaTek: Add support for mt6582 & mt6592.

Signed-off-by: sub77 <sub77@ymail.com>

Conflicts:
	init/Android.mk

Change-Id: I418ed76531ac3b7fc344f5b0b9ee4f6108a84856
Signed-off-by: sub77 <sub77@ymail.com>
---
 init/Android.mk | 8 ++++++++
 init/init.cpp   | 8 +++++++-
 2 files changed, 15 insertions(+), 1 deletion(-)

diff --git a/init/Android.mk b/init/Android.mk
index c2f98c1..3cf86dc 100644
--- a/init/Android.mk
+++ b/init/Android.mk
@@ -99,6 +99,14 @@ ifneq ($(TARGET_IGNORE_RO_BOOT_REVISION),)
 LOCAL_CFLAGS += -DIGNORE_RO_BOOT_REVISION
 endif
 
+ifeq ($(TARGET_BOARD_PLATFORM),mt6582)
+LOCAL_CFLAGS += -DMTK_MT6582
+endif
+
+ifeq ($(TARGET_BOARD_PLATFORM),mt6592)
+LOCAL_CFLAGS += -DMTK_MT6592
+endif
+
 ifeq ($(KERNEL_HAS_FINIT_MODULE), false)
 LOCAL_CFLAGS += -DNO_FINIT_MODULE
 endif
diff --git a/init/init.cpp b/init/init.cpp
index d77f42b..6ca6269 100755
--- a/init/init.cpp
+++ b/init/init.cpp
@@ -366,7 +366,13 @@ static void export_kernel_boot_props() {
         { "ro.boot.mode",       "ro.bootmode",   "unknown", },
         { "ro.boot.baseband",   "ro.baseband",   "unknown", },
         { "ro.boot.bootloader", "ro.bootloader", "unknown", },
-        { "ro.boot.hardware",   "ro.hardware",   "unknown", },
+#ifdef MTK_MT6582     
+        { "ro.boot.hardware",   "ro.hardware",   "mt6582", },
+#endif
+#ifdef MTK_MT6592     
+        { "ro.boot.hardware",   "ro.hardware",   "mt6592", },
+#endif  
+
 #ifndef IGNORE_RO_BOOT_REVISION
         { "ro.boot.revision",   "ro.revision",   "0", },
 #endif
-- 
2.1.4

